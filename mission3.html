<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAE S1.04 - Mission 3</title>

    <!-- même CSS résumé -->
    <style>
        :root { --primary-color:#2563eb; --secondary-color:#1e40af; --accent-color:#3b82f6;
            --text-dark:#1f2937; --text-light:#6b7280; --bg-light:#f3f4f6; --bg-white:#ffffff; --border-color:#e5e7eb;}
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;color:var(--text-dark);background:var(--bg-light);}
        .navbar{background:var(--primary-color);color:#fff;position:fixed;top:0;left:0;right:0;z-index:1000;box-shadow:0 2px 4px rgba(0,0,0,.1);}
        .centered-menu{display:flex;justify-content:center;align-items:center;gap:1rem;padding:1rem 0;list-style:none;}
        .centered-menu a{color:#fff;text-decoration:none;padding:.5rem 1rem;border-radius:4px;transition:.3s;font-size:1.05rem;}
        .centered-menu a:hover{background:var(--secondary-color);}
        .centered-menu a.active{background:var(--secondary-color);}
        .page-title{text-align:center;padding:1rem 0 1.5rem;background:var(--bg-light);margin-top:3.5rem;}
        .page-title h1{font-size:1.8rem;color:var(--primary-color);font-weight:700;}
        .container{max-width:1200px;margin:1rem auto 2rem;padding:2rem;background:var(--bg-white);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);}
        section{margin-bottom:3rem;}
        section h3{color:var(--primary-color);font-size:1.8rem;margin-bottom:1.5rem;border-bottom:2px solid var(--primary-color);padding-bottom:.5rem;}
        section h4{color:var(--text-dark);font-size:1.3rem;margin-top:1.5rem;margin-bottom:1rem;}
        .hero{text-align:center;padding:2rem 0;background:linear-gradient(135deg,var(--primary-color),var(--accent-color));color:#fff;border-radius:8px;margin-bottom:3rem;}
        .hero h2{font-size:2.2rem;margin-bottom:.5rem;}
        .subtitle{font-size:1.1rem;opacity:.9;}
        ul{margin-left:2rem;margin-bottom:1rem;}
        li{margin-bottom:.5rem;}
        .card{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 4px rgba(0,0,0,.1);border-left:4px solid var(--primary-color);}
        .card h4{margin-top:0;color:var(--primary-color);}
        .code-block{background:#111827;color:#e5e7eb;padding:1.2rem 1.4rem;border-radius:8px;font-family:'Courier New',monospace;font-size:.9rem;overflow-x:auto;margin:1rem 0;}
        table{width:100%;border-collapse:collapse;margin:1.5rem 0;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,.1);}
        th{background:var(--primary-color);color:#fff;padding:1rem;text-align:left;}
        td{padding:.75rem 1rem;border-bottom:1px solid var(--border-color);}
        tr:last-child td{border-bottom:none;}
        footer{background:var(--text-dark);color:#fff;text-align:center;padding:2rem;margin-top:3rem;}
        @media(max-width:768px){.container{margin:.5rem;margin-top:1rem;padding:1rem;}.page-title{margin-top:4.5rem;}}
    </style>
</head>
<body>
<header>
    <nav class="navbar">
        <ul class="nav-menu centered-menu">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="mission1.html">Mission 1</a></li>
            <li><a href="mission2.html">Mission 2</a></li>
            <li><a href="mission3.html" class="active">Mission 3</a></li>
            <li><a href="conclusion.html">Conclusion</a></li>
            <li><a href="creation-site.html">Création du site</a></li>
        </ul>
    </nav>

    <div class="page-title">
        <h1>SAE S1.04 - Groupe 112</h1>
    </div>
</header>

<main class="container">
    <section class="hero">
        <h2>Mission 3 – Analyse SQL</h2>
        <p class="subtitle">Création d'indicateurs avancés pour KDou</p>
    </section>

    <section>
        <h3>Objectifs de la mission</h3>
        <p>
            Cette mission visait à exploiter la base de données KDou à l'aide de requêtes
            <strong>SQL</strong> avancées afin de produire des indicateurs pertinents pour la
            prise de décision stratégique.
        </p>
        <ul>
            <li>Écrire des requêtes multi-tables avec jointures</li>
            <li>Utiliser des fonctions d'agrégation (SUM, COUNT, AVG...)</li>
            <li>Mettre en place des sous-requêtes</li>
            <li>Construire des indicateurs calculés</li>
        </ul>
    </section>

    <section>
        <h3>Indicateur 1 – CA Desserts / Boissons</h3>
        <p><strong>Objectif :</strong> Comparer le chiffre d'affaires généré par les desserts et les boissons.</p>

        <div class="code-block">
            SELECT c.NomCategorie,
            SUM(d.Quantite * p.PrixUnitaire) AS ChiffreAffaires
            FROM DetailCommande d
            JOIN Produit p ON d.RefProduit = p.RefProduit
            JOIN Categorie c ON p.CodeCategorie = c.CodeCategorie
            WHERE c.NomCategorie IN ('Desserts', 'Boissons')
            GROUP BY c.NomCategorie;
        </div>

        <p><strong>Utilité pour KDou :</strong></p>
        <ul>
            <li>Mesurer l'importance des desserts et boissons dans le CA total</li>
            <li>Ajuster les marges et promotions sur ces catégories</li>
            <li>Identifier les catégories à fort potentiel</li>
        </ul>
    </section>

    <section>
        <h3>Indicateur 2 – Produits non commandés</h3>
        <p><strong>Objectif :</strong> Repérer les produits présents au catalogue mais jamais commandés.</p>

        <div class="code-block">
            SELECT p.RefProduit,
            p.NomProduit,
            f.NomFournisseur
            FROM Produit p
            LEFT JOIN DetailCommande d ON p.RefProduit = d.RefProduit
            JOIN Fournisseur f ON p.NoFournisseur = f.NoFournisseur
            WHERE d.RefProduit IS NULL;
        </div>

        <p><strong>Utilité pour KDou :</strong></p>
        <ul>
            <li>Identifier les produits à faible intérêt commercial</li>
            <li>Alléger le catalogue et les stocks</li>
            <li>Négocier avec les fournisseurs sur ces produits</li>
        </ul>
    </section>

    <section>
        <h3>Indicateur 3 – CA hors Union Européenne</h3>
        <p><strong>Objectif :</strong> Évaluer la part de chiffre d'affaires réalisée hors UE.</p>

        <div class="code-block">
            SELECT cl.Pays,
            SUM(d.Quantite * p.PrixUnitaire) AS ChiffreAffaires
            FROM Clientele cl
            JOIN Commande c ON cl.CodeClient = c.CodeClient
            JOIN DetailCommande d ON c.NoCommande = d.NoCommande
            JOIN Produit p ON d.RefProduit = p.RefProduit
            WHERE cl.Pays NOT IN ('France','Allemagne','Espagne','Italie','Belgique','Pays-Bas','Portugal','Luxembourg','Irlande')
            GROUP BY cl.Pays;
        </div>

        <p><strong>Utilité pour KDou :</strong></p>
        <ul>
            <li>Évaluer la dépendance aux marchés hors UE</li>
            <li>Adapter la stratégie d'approvisionnement</li>
            <li>Anticiper les risques liés aux réglementations internationales</li>
        </ul>
    </section>

    <section>
        <h3>Indicateur 4 – Partenariat client</h3>
        <p><strong>Objectif :</strong> Identifier les clients "pilotes" et leurs partenaires.</p>

        <div class="code-block">
            -- Logique simplifiée
            SELECT Pilote.CodeClient AS CodePilote,
            Pilote.Societe AS SocietePilote,
            SUM(Pilote.NbCommandes) AS CommandesPilote,
            SUM(Partenaire.NbCommandes) AS CommandesPartenaires
            FROM (
            SELECT cl.CodeClient, cl.Societe, COUNT(*) AS NbCommandes
            FROM Clientele cl
            JOIN Commande c ON cl.CodeClient = c.CodeClient
            GROUP BY cl.CodeClient, cl.Societe
            ) AS Pilote
            JOIN (
            SELECT cl.CodeClient, cl.Societe, COUNT(*) AS NbCommandes
            FROM Clientele cl
            JOIN Commande c ON cl.CodeClient = c.CodeClient
            GROUP BY cl.CodeClient, cl.Societe
            ) AS Partenaire
            ON Pilote.Ville = Partenaire.Ville
            AND Pilote.CodeClient &lt;&gt; Partenaire.CodeClient
            GROUP BY Pilote.CodeClient, Pilote.Societe;
        </div>

        <p><strong>Utilité pour KDou :</strong></p>
        <ul>
            <li>Identifier les réseaux de clients</li>
            <li>Optimiser les livraisons groupées</li>
            <li>Cibler des offres commerciales spécifiques</li>
        </ul>
    </section>

    <section>
        <h3>Synthèse des indicateurs</h3>

        <table>
            <thead>
            <tr>
                <th>Indicateur</th>
                <th>Thème</th>
                <th>Impact stratégique</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>CA Desserts/Boissons</td>
                <td>Santé / offre produit</td>
                <td>Adapter l'offre aux préoccupations nutritionnelles</td>
            </tr>
            <tr>
                <td>Produits non commandés</td>
                <td>Catalogue</td>
                <td>Alléger le catalogue et les stocks</td>
            </tr>
            <tr>
                <td>CA hors UE</td>
                <td>Provenance géographique</td>
                <td>Maîtriser les risques liés aux importations</td>
            </tr>
            <tr>
                <td>Partenariat client</td>
                <td>Logistique / clientèle</td>
                <td>Optimiser les livraisons et les relations commerciales</td>
            </tr>
            </tbody>
        </table>
    </section>
</main>

<footer>
    <div class="footer-content">
        <p>&copy; 2025 - SAE S1.04 - Groupe 112</p>
        <p>BUT Informatique - IUT de Paris Rives de Seine</p>
    </div>
</footer>
</body>
</html>
